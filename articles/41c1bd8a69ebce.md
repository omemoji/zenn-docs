---
title: "Nuxt3+Tailwind CSSでギャラリー付きポートフォリオを作成する"
emoji: "🔥"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["nuxtjs", "tailwindcss"]
published: false
---

# この記事について

https://adventar.org/calendars/8236
この記事は [WORDIAN Advent Calendar 2022](https://adventar.org/calendars/8236) の 19 日目の記事である。

Nuxt3 と Tailwind CSS を用いて「創作物紹介」という静的なギャラリー付きポートフォリオを作成し、GitHub Pages に独自ドメインでデプロイした。
その過程をこの記事で述べる。

# ポートフォリオ「創作物紹介」について

<!-- [![](https://user-images.githubusercontent.com/68148226/206378627-436399d5-f540-4a6b-adda-d8a68d9a0da0.png)](https://omemoji.com) -->

## 概要

https://omemoji.com

- サイト名: 創作物紹介
- リポジトリ: https://github.com/omemoji/omemoji.com

## 機能

このポートフォリオは以下の機能・特徴を持つ:

- 自分のプロフィール、来歴、興味のあることや技能を伝えることが出来る
- これまでに作った作品(主に絵)をギャラリーとして公開出来る
- Markdown で書いた記事を公開出来る
- 静的ウェブサイトであるため、ページを高速で表示出来る

## 技術構成

Node.js と npm のバージョンは以下の通り。`sudo n latest`でインストールした(2022/12/12 時点)。

```
v19.2.0 (with npm 8.19.3)
```

package.json は以下の通り。

```
  "devDependencies": {
    "@nuxt/content": "^2.2.2",
    "@nuxt/image-edge": "^1.0.0-27840416.dc1ed65",
    "autoprefixer": "^10.4.13",
    "nuxt": "3.0.0",
    "postcss": "^8.4.19",
    "tailwindcss": "^3.2.4"
  },
  "dependencies": {
    "github-markdown-css": "^5.1.0",
    "vue-gtag": "^2.0.1"
  }
```

# 目的

## 自分の作品・成果物を自由に見てもらう

私は絵を描いたりものをつくったりするのが好きで、作品を度々以下のような画像共有 SNS に投稿している:

- [Instagram](https://www.instagram.com/omemoji/)
- [Twitter](https://twitter.com/omemoji_itf)
- [krita-artists.org](https://krita-artists.org/u/omemoji/activity)

これらはとても良いサービスであり、私も愛用している。しかし、（自分で作ったのではない、大規模な外部サービスが必然的に抱える宿命として）以下の欠点を持っている:

- UI が気に入らなかったり不具合が生じていたりしても直すことが出来ず、ただ対応を待つしかない
- 多くのユーザーやデータを捌いているため仕方ないが、サイトや画像の読み込みに長い時間がかかることがある
- SNS を管理している企業が急にサービスを終了したり運営方針を転換したりして、サービスの利用に支障をきたすかも知れない
- ユーザーが興味のない広告がある(krita-artists.org は広告なし)

自分のドメインでホームページを立ち上げてそこに作品や記事を公開すれば、上記の問題点を解決することが出来る。

## 就職活動に役立てる

ギャラリーや記事などで（今はまだ少ないが）成果物やその作成過程を公開していくことで、企業に対して自分の持っている技術や熱意をアピールしたい。
また、このポートフォリオ自体も Web 技術に関する最低限の熱意を示す成果物になる（と信じたい）。

## 技術を高める

私は情報技術に関してあまり詳しいわけではなく、JavaScript や周辺のフレームワークに関してもまだまだ学習中である。そのため、目に見える形で成果物を作成することを通して、Web engineering の知識を深めたいと考えた。
知識の少ない状態から何とか Web サイトを形にしたという感じなので、実装にまずい部分があったり、モジュールやフレームワークの強みを活かせていなかったりするかも知れない。そういった点は今後の継続的な開発で改善していきたい。

# 開発のポイント

ここからは、実際にポートフォリオを作成していく中での実装のポイントや困ったことなどを述べていく。

## 画像最適化

画像最適化は「Nuxt Image」を用いて行った。
https://v1.image.nuxtjs.org/

```
npm install @nuxt/image-edge
```

でインストール出来る。

`<nuxt-img>`タグは従来の`<img>`タグを置き換えるものであり、複数のオプションによって様々な形で画像を最適化することが出来る。例えば、以下のように書く:
```
<template>
  src="/title.png"
  width="720"
  height="450"
</template>
```

この場合、`width`と`height`に設定されている通りに画像サイズが設定された後、それに合うように拡縮・トリミングされた画像が生成される。即ち、高解像度の画像を 1 枚入れておけば、`nuxt-img`によっていくらでも好きなサイズ・解像度の画像を自動で生成出来るということである。ギャラリーを実装する上でも、サムネイル用に自前でトリミング・圧縮した画像を用意する必要がなくなり、開発を大幅に効率化することが出来た。
他にも、容量を圧縮する`quality`、遅延読み込みを可能にする`loading`、画像の形式を変換する`format`などのオプションが存在する。分からないことは大体公式のドキュメントに書いてある。

:::message
非常に便利なこのパッケージであるが、2022/12/15 時点で「特定の組み合わせで複数のオプションをつけると`nuxt run generate`で画像が生成されない」というバグがある。バグ修正の PR は既に行われているようだ。
https://github.com/nuxt/image/pull/673
:::

## Markdown からページ生成

個人サイトである程度長い文章を書いていく際、HTML と CSS を使って文章やレイアウトを記述するのは骨が折れる。出来ることなら、より簡単に書けてレイアウトも勝手に決めてくれる Markdown で記述したい。そうした希望を叶えてくれるのが、Nuxt Content パッケージである。
https://content.nuxtjs.org/

```
npm install --save-dev @nuxt/content
```

でインストール出来る。
